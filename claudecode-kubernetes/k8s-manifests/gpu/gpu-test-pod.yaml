# GPU verification test Pod - runs nvidia-smi and exits
# Use this Pod to verify GPU access after GPU nodes and device plugin are set up
# Usage: kubectl apply -f gpu-test-pod.yaml && kubectl logs gpu-test -f
apiVersion: v1
kind: Pod
metadata:
  name: gpu-test
  namespace: default
  labels:
    app.kubernetes.io/part-of: papers-with-claudecode
spec:
  restartPolicy: Never
  containers:
    - name: gpu-test
      image: nvcr.io/nvidia/cuda:12.6.3-base-ubuntu24.04
      command: ["nvidia-smi"]
      resources:
        limits:
          nvidia.com/gpu: 1
